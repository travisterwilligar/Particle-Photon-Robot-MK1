<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <title>Robot Controls</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Robot Controls">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).ready(function(){

      var deviceId = '30003d001247343339383037';
      var accessToken = '295643324e02c0de1efdb5e3a91b45cb1ec9a284'
      var postUrl = 'https://api.particle.io/v1/devices/' + deviceId + '/move?access_token=' + accessToken;

      $(document).keyup(function(e) {
        switch(e.which) {
          case 37: // left
          $.post( postUrl, { move: "l"} );
          break;

          case 38: // up
          $.post( postUrl, { move: "f"} );
          break;

          case 39: // right
          $.post( postUrl, { move: "r"} );
          break;

          case 40: // down
          $.post( postUrl, { move: "b"} );
          break;

          default:
          $.post( postUrl, { move: "z"} );
          return;
        }
        e.preventDefault();
      });

      $(document).on('touchstart', '.left', function(){
        $.post( postUrl, { move: "l"} );
      });
      $(document).on('touchstart', '.right', function(){
        $.post( postUrl, { move: "r"} );
      });
      $(document).on('touchstart', '.forward', function(){
        $.post( postUrl, { move: "f"} );
      });
      $(document).on('touchstart', '.reverse', function(){
        $.post( postUrl, { move: "b"} );
      });
      $(document).on('touchstart', '.stop', function(){
        $.post( postUrl, { move: "z"} );
      });
      $(document).on('touchstart', '.cruise', function(){
        $.post( postUrl, { move: "c"} );
      });
    });

    </script>
    <style>
    body{
      text-align: center;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      background-color: #ccc;
      overflow: hidden;
    }
    table.keypad{
      display: table;
      margin: 0 auto;
      margin-top: 100px;
    }
    .button{
      height: 110px;
      width: 110px;
      text-align: center;
      line-height: 110px;
      border:1px solid black;
      display: block;
      font-size: 50px;
      cursor: pointer;
      margin: 5px;
      border-radius: 10px;
      box-shadow: 0 1px 0px rgba(0,0,0,0.4);
      background-color: #fff;
    }
    .button:hover{
      color: #34AC10;
    }
    .keypad .button.stop{
      font-size: 30px;
      color: #D0021B;
    }
    .keypad .button.stop:hover{
      color: #D0021B;
    }
    .keyboard-controls{
      position: relative;
      margin-top: 40px;
      height: 20px;
      text-align: center;
      display: block;
    }
    .cruise{
      font-size: 26px;
      width: 360px;
      margin: 0 auto;
      height: 70px;
      line-height: 70px;
      margin-top: 60px;
    }

    </style>

  </head>
  <body>
    <table class="keypad">
      <tr>
        <td></td>
        <td><a class="button forward">&#8593;</a></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="button left">&#8592;</a></td>
        <td><a class="button stop">Stop</a></td>
        <td><a class="button right">&#8594;</a></td>
      </tr>
      <tr>
        <td></td>
        <td><a class="button reverse">&#8595;</a></td>
        <td></td>
      </tr>
    </table>

    <div class="cruise button">Cruise</div>

    <div class="keyboard-controls">Keyboard controls: &#8592; &#8593; &#8595; &#8594; , space to stop</div>

  </body>
</html>
